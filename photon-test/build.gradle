apply plugin: 'scala'

compileScala {
  scalaCompileOptions.fork = true
  scalaCompileOptions.useAnt = false
  scalaCompileOptions.additionalParameters = [
    "-feature",
    "-language:reflectiveCalls", // used for config structural typing
    "-language:postfixOps"
  ]
}

jar {
  classifier "test"
  from sourceSets.test.output
}

dependencies {

  testCompile("org.scala-lang:scala-compiler:${scalaVersion}")
  testCompile("org.scala-lang:scala-library:${scalaVersion}")
  testCompile("org.scala-lang:scala-reflect:${scalaVersion}")

  testCompile("org.apache.spark:spark-core_${baseScalaVersion}:1.4.0")
  testCompile("org.scalanlp:breeze_${baseScalaVersion}:0.11.2")
  testCompile("org.scalanlp:breeze-macros_${baseScalaVersion}:0.11.2")

  testCompile('commons-io:commons-io:2.4')
  testCompile('org.apache.commons:commons-math3:3.5')
}
