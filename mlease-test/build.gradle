apply plugin: 'li-scala'

compileScala {
  scalaCompileOptions.fork = true
  scalaCompileOptions.useAnt = false
  scalaCompileOptions.additionalParameters = [
    "-feature",
    "-language:reflectiveCalls", // used for config structural typing
    "-language:postfixOps"
  ]
}
repositories {
  // Use the maven central, local, and nexus repos for the migration, which should be disabled in the future. Check go/elr.
  mavenCentral()
  mavenLocal()
  maven {
    url "http://repo.maven.apache.org/maven2"
  }
  maven {
    url "http://dev-artifactory.corp.linkedin.com:8081/artifactory/release"
  }
}
dependencies {
  compile(spec.external."scalaCompiler_2.10")
  compile(spec.external."scalaLibrary_2.10")
  compile(spec.external."scalaReflect_2.10")
  compile(spec.external."spark-core")
  compile(spec.external."breeze-core")
  compile(spec.product.'li-hadoop'.'hadoop-mapreduce-client-core')
  compile(spec.product.'li-hadoop'.'hadoop-common')
  compile(spec.product.'li-hadoop'.'hadoop-auth')
  compile(spec.product.'li-hadoop'.'hadoop-client')

  compile(spec.external.commonsMath3)
  compile(spec.external.log4j)
  compile(spec.external."slf4j-api")
  compile(spec.external."akka-actor")
  compile(spec.external."akka-remote")
  compile(spec.external."akka-slf4j")
}

configurations {
  all*.transitive = false

}

project.plugins.withType(ScalaPlugin) {
  configurations.zinc.transitive = true
}
