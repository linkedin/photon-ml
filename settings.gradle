apply plugin: com.linkedin.ligradle.scala.LiScalaCrossBuildPlugin // can't be applied by id because of GRADLE-2914

def modules = ['azkaban-util'] /* the name of the modules to use */

scalaCrossBuild {
  defaultScalaVersion '2.10.4'
  targetScalaVersions '2.10.4'
  projectsToCrossBuild 'mlease'
  projectsToNotCrossBuild 'azkaban-util'
}

// need rum plugins on the classpath
buildscript {
  gradle.ext.addArtifactory(repositories)
  dependencies {
    classpath "com.linkedin.rum:product-plugins:$gradle.ext.rumVersion"
  }
}
modules.each { module ->
  if (!file(module).directory) {
    throw new GradleException("Module '$module' specified in the settings.gradle file must be a valid directory in the root project.")
  }
  file(module).eachDir { submodule ->
    if (!submodule.name.startsWith('.')) {
      include "${module}:${submodule.name}"
    }
  }
}